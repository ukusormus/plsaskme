let setupDone=!1;(()=>{const dict={tapMe:{en:"Tap here for a new question!",et:"Uue k端simuse jaoks kliki siia!"},swipeMe:{en:"Swipe me up for a new question!",et:"Uue k端simuse jaoks viipa mind 端les!"},spicy:{en:"Spicier questions?",et:"Julgemad k端simused?"},language:{en:"Language",et:"Keel"},lightdark:{en:"Light/dark background",et:"Hele/tume taust"}},spicySwitch=document.querySelector("#spicy"),langSwitch=document.querySelector("#lang"),spicyText=document.querySelector("#spicy-section > h4"),langText=document.querySelector("#lang-section > h4"),darkText=document.querySelector("#darkmode-section > h4"),currentQ=document.querySelector("#current-q");let langSpicy=localStorage.getItem("lang-spicy");function setup(langSpicy){const[lang,spicy]=langSpicy.split("-");spicyText.textContent=dict.spicy[lang],langText.textContent=dict.language[lang],darkText.textContent=dict.lightdark[lang],"et"===lang&&langSwitch.click(),"spicy"===spicy&&spicySwitch.click(),currentQ.textContent=touchSupported?dict.swipeMe[lang]:dict.tapMe[lang],setupDone=!0}null===langSpicy?(localStorage.setItem("lang-spicy",""),fetch("https://api.ipregistry.co/?key=iepjetovubznkogb").then((function(response){return response.json()})).then((function(payload){(payload.location.country.code="EE")?localStorage["lang-spicy"]="et":localStorage["lang-spicy"]="en"})).catch((function(error){console.error("Couldn't detect language by IP. Defaulting to 'en'. Error:\n"+error),localStorage["lang-spicy"]="en"})).finally(()=>{setup(localStorage.getItem("lang-spicy"))})):setup(langSpicy),langSwitch.addEventListener("click",()=>{const newLang=langSwitch.checked?"et":"en";if(spicyText.textContent=dict.spicy[newLang],langText.textContent=dict.language[newLang],darkText.textContent=dict.lightdark[newLang],touchSupported){document.querySelectorAll(".q-container > p").forEach(text=>{text.textContent=dict.swipeMe[newLang]});const firstTimeNewQuestionSwipeEvent=new CustomEvent("newQuestionEvent",{detail:!0});document.dispatchEvent(firstTimeNewQuestionSwipeEvent)}else currentQ.textContent=dict.tapMe[newLang];const currentSpicy=spicySwitch.checked?"-spicy":"";localStorage["lang-spicy"]=newLang+currentSpicy}),spicySwitch.addEventListener("click",()=>{const newSpicy=spicySwitch.checked?"-spicy":"",currentLang=langSwitch.checked?"et":"en";localStorage["lang-spicy"]=currentLang+newSpicy})})();
(() => { const darkSwitch = $("#darkmode-section > label"), urlbarMeta = $("meta[name='theme-color']"); let darkmodeInLocalStorage = localStorage.getItem("darkmode"); null === darkmodeInLocalStorage && (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? (localStorage.setItem("darkmode", "true"), darkmodeInLocalStorage = "true") : localStorage.setItem("darkmode", "false")), "true" === darkmodeInLocalStorage ? (document.body.classList.add("dark"), urlbarMeta.setAttribute("content", "#202225"), darkSwitch.click()) : (document.body.classList.remove("dark"), urlbarMeta.setAttribute("content", "#cccccc")), darkSwitch.addEventListener("click", () => { document.body.classList.toggle("dark"), document.body.classList.contains("dark") ? (urlbarMeta.setAttribute("content", "#202225"), localStorage.setItem("darkmode", "true")) : (urlbarMeta.setAttribute("content", "#cccccc"), localStorage.setItem("darkmode", "false")) }) })();